{# README rendered by Copier #}
{% if include_readme %}
# {{ project_name | default('Python Starter') }}

## ğŸ“‹ ConteÃºdo

- [PrÃ©-requisitos](#prÃ©-requisitos)
- [Primeiros Passos](#primeiros-passos)
- [Como Executar](#como-executar)
- [Testes](#testes)
- [Estrutura do Projeto](#estrutura-do-projeto)
- [Comandos Ãšteis](#comandos-Ãºteis)
- [SoluÃ§Ã£o de Problemas no Windows](#soluÃ§Ã£o-de-problemas-no-windows)

## ğŸ”§ PrÃ©-requisitos

Instale antes de comeÃ§ar:
- Visual Studio Code â€” https://code.visualstudio.com/
- Git â€” https://git-scm.com/downloads
- uv (gerenciador Python)  
  Windows (PowerShell):
  ```powershell
  powershell -ExecutionPolicy ByPass -c "irm https://astral.sh/uv/install.ps1 | iex"
  ```
  macOS/Linux:
  ```bash
  curl -LsSf https://astral.sh/uv/install.sh | sh
  ```

## ğŸš€ Primeiros Passos

1) Sincronize as dependÃªncias:
```bash
uv sync
```

2) Abra no VS Code:
```bash
code .
```
- Selecione o interpretador: Python {{ python_version }} da venv (Python: Select Interpreter).
- Instale as extensÃµes recomendadas quando solicitado.

{% if include_pydantic %}{% else %}
> Importante: o exemplo de servidor usa Pydantic.  
> Se vocÃª desativou Pydantic na criaÃ§Ã£o, adicione agora:
```bash
uv add pydantic>=2.0.0
```
{% endif %}

## â–¶ï¸ Como Executar

Servidor HTTP simples com JSON:
- Windows (CMD):
```cmd
uv run python src\{{package_name}}\server.py
```
- PowerShell:
```powershell
uv run python src\{{package_name}}\server.py
```
- Linux/macOS:
```bash
uv run python src/{{package_name}}/server.py
```

Acesse: http://127.0.0.1:7123/

Exemplo de resposta:
```json
{ "message": "Hello, world!", "now": "2025-01-01T12:34:56.789-03:00" }
```

## âœ… Testes
{% if include_tests %}
Execute:
```bash
uv run pytest -q
```
{% else %}
Este template pode incluir uma suÃ­te de testes com pytest. Ative a opÃ§Ã£o ao gerar o projeto ou adicione:
```bash
uv add --dev pytest
```
{% endif %}

## ğŸ“ Estrutura do Projeto

```
{{ project_name }}/
â”œâ”€â”€ pyproject.toml            # Metadados e dependÃªncias
{% if include_ruff -%}â”œâ”€â”€ ruff.toml                    # Configs do Ruff{% endif %}
{% if include_makefile -%}â”œâ”€â”€ Makefile                   # Atalhos de desenvolvimento{% endif %}
{% if include_readme -%}â”œâ”€â”€ README.md                   # Este arquivo{% endif %}
{% if include_mkdocs -%}â”œâ”€â”€ mkdocs.yml                  # Configs de documentaÃ§Ã£o
â”œâ”€â”€ docs/
â”‚   â””â”€â”€ index.md              # PÃ¡gina inicial da doc{% endif %}
â”œâ”€â”€ src/
â”‚   â””â”€â”€ {{package_name}}/
â”‚       â”œâ”€â”€ __init__.py
â”‚       â””â”€â”€ server.py         # Servidor HTTP de exemplo (JSON + timezone)
{% if include_tests -%}â”œâ”€â”€ tests/
â”‚   â””â”€â”€ test_server.py        # Testes de integraÃ§Ã£o do servidor{% endif %}
{% if include_vscode -%}â””â”€â”€ .vscode/
    â”œâ”€â”€ settings.json
    â”œâ”€â”€ extensions.json
    {% if include_copilot -%}â””â”€â”€ copilot/
        â””â”€â”€ instructions/
            â”œâ”€â”€ _base.instructions.md
            â””â”€â”€ uv.instructions.md{% endif %}{% endif %}
```

## ğŸ§° Comandos Ãšteis

- Executar servidor:
```bash
uv run python src/{{package_name}}/server.py
```

{% if include_ruff -%}
- Formatar:
```bash
uv run ruff format .
```
- Lint (com correÃ§Ãµes):
```bash
uv run ruff check . --fix
```
{%- endif %}

{% if include_tests -%}
- Testes:
```bash
uv run pytest -q
```
{%- endif %}

{% if include_pre_commit and include_ruff -%}
- Instalar pre-commit:
```bash
uv run pre-commit install
```
{%- endif %}

{% if include_mkdocs -%}
- Subir docs localmente:
```bash
uv run mkdocs serve -a 0.0.0.0:8001
```
{%- endif %}

- DependÃªncias:
```bash
uv add <pacote> [--dev]
uv remove <pacote>
uv sync
uv lock
```

## ğŸªŸ SoluÃ§Ã£o de Problemas no Windows

Se o PowerShell bloquear scripts:
```powershell
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
```

Dicas:
- Sempre execute os comandos na raiz do projeto.
- Se o import falhar em testes, rode via `uv run pytest` (garante ambiente correto).
{% endif %}
